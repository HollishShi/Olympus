var olympus;(function(n){function o(){if(window.location.origin)return window.location.origin;return window.location.protocol+"//"+window.location.host}function a(n){n=n.replace(/([^:/])(\/)+/g,"$1/");if(n.charAt(0)=="/")n=n.substr(1);var r;while((r=n.indexOf("/./"))>=0){n=n.replace("/./","/")}var t=/\/[^\/\.]+?\/\.\.\//;while(t.test(n)){n=n.replace(t,"/")}return n}function t(n){if(n==null)throw new Error("url不能为空");n=n.split("#")[0].split("?")[0];n=a(n);return n}function i(n){n=t(n);var r=n.split("/");r.pop();return r.join("/")+"/"}function g(n){if(n==null)return false;return n.indexOf("://")>=0}function s(n){if(n==null)return null;var r=n.indexOf("://");if(r<0)return n;var t=n.substring(0,r);if(t=="http"||t=="https"){return window.location.protocol+n.substr(r+1)}if(t=="ws"||t=="wss"){if(window.location.protocol=="https:")t="wss";else t="ws";return t+n.substr(r)}return n}function u(n,r,t){if(t===void 0){t=false}r=r||o();var e=/^(?:[^\/]+):\/{2,}(?:[^\/]+)\//;var i=n.match(e);if(i&&i.length>0){if(t){n=n.substr(i[0].length);n=r+"/"+n}}else{n=r+"/"+n}n=s(n);n=a(n);return n}function m(n,r){var t=i(window.location.href);var e=a(t+"/"+n);if(r!=null){e=u(e,r,true)}return e}var r=function(){function n(){this._hashDict={}}n.prototype.initialize=function(r){var f=this;if(window["__Olympus_Version_hashDict__"]){this._hashDict=window["__Olympus_Version_hashDict__"];r()}else{var n=null;if(window["XDomainRequest"]&&navigator.userAgent.indexOf("MSIE 10.")<0){n=new window["XDomainRequest"]}if(window["XMLHttpRequest"]){n=new XMLHttpRequest}else if(window["ActiveXObject"]){n=new ActiveXObject("Microsoft.XMLHTTP")}n.onload=function(n){t(n);r()};n.onerror=r;n.open("GET","version.cfg?v="+(new Date).getTime(),true);n.send()}function t(n){var r=n.target;var t=r.responseText;var e=t.split("\n");for(var i in e){var o=e[i];var a=o.split("  ");if(a.length==2){var s=a[1].substr(2);var u=a[0];f._hashDict[s]=u}}window["__Olympus_Version_hashDict__"]=f._hashDict}};n.prototype.getHash=function(n){n=a(n);var r=null;for(var t in this._hashDict){if(n.indexOf(t)>=0){r=this._hashDict[t];break}}return r};n.prototype.wrapHashUrl=function(n){var r=this.getHash(n);if(r!=null){n=this.joinVersion(n,r)}return n};n.prototype.joinVersion=function(n,r){if(r==null)return n;r=r.replace(/[^0-9a-z]+/gi,"");var t=/([a-zA-Z]+:\/+[^\/\?#]+\/[^\?#]+)\.([^\?]+)(\?.+)?/;var e=t.exec(n);if(e!=null){n=e[1]+"-r_"+r+"."+e[2]+(e[3]||"")}return n};n.prototype.removeVersion=function(n){n=n.replace(/\-r_[a-z0-9]+\./gi,".");return n};return n}();var O=new r;function e(n,r,t,e){if(e===void 0){e=true}O.initialize(function(){f(n,r||o(),function(n){if(n)throw n;else t&&t()},e)})}n.preload=e;function f(n,r,t,e){if(!n){t();return}n=n.concat();var i=n.length;var o=0;var a=false;var s=[];for(var u in n){var f=n[u];if(typeof f==="string"){n[u]=f={url:f,mode:T.AUTO}}var l=f.url;if(!g(l))l=m(l,r);l=O.wrapHashUrl(l);var c=document.createElement("script");c.type="text/javascript";s.push(c);if(f.mode===T.JSONP||f.mode===T.AUTO&&!g(f.url)){var v=window["XDomainRequest"]&&navigator.userAgent.indexOf("MSIE 10.")<0?new window["XDomainRequest"]:window["XMLHttpRequest"]?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");v["index"]=u;v.open("GET",l,true);v.responseType="text";v.onload=h;v.onerror=h;v.send(null);o++}else{c.onload=d;c.onerror=_;c.src=l}}var p=0;w();function w(){if(o===0){for(var n=p,r=s.length;n<r;){var t=s[n];document.body.appendChild(t);p=++n;if(e&&t.src)break}}}function h(n){if(n instanceof ErrorEvent){_()}else{var r=n.target;var t=r["index"];var e=s[t];e.innerHTML=r.responseText;o--;d()}}function d(){w();if(!a&&--i===0)t()}function _(){if(!a){a=true;t(new Error("JS加载失败"))}}}var T;(function(n){n[n["AUTO"]=0]="AUTO";n[n["JSONP"]=1]="JSONP";n[n["TAG"]=2]="TAG"})(T=n.JSLoadMode||(n.JSLoadMode={}))})(olympus||(olympus={}));